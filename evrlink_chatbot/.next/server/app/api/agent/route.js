"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/agent/route";
exports.ids = ["app/api/agent/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:events");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:https");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:stream/web");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fagent%2Froute&page=%2Fapi%2Fagent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fagent%2Froute.ts&appDir=C%3A%5CUsers%5CPAWAN%20KUMAR%5CDownloads%5C1%5CEvrlink-backend%5Cevrlink_chatbot%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPAWAN%20KUMAR%5CDownloads%5C1%5CEvrlink-backend%5Cevrlink_chatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fagent%2Froute&page=%2Fapi%2Fagent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fagent%2Froute.ts&appDir=C%3A%5CUsers%5CPAWAN%20KUMAR%5CDownloads%5C1%5CEvrlink-backend%5Cevrlink_chatbot%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPAWAN%20KUMAR%5CDownloads%5C1%5CEvrlink-backend%5Cevrlink_chatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_PAWAN_KUMAR_Downloads_1_Evrlink_backend_evrlink_chatbot_app_api_agent_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/agent/route.ts */ \"(rsc)/./app/api/agent/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/agent/route\",\n        pathname: \"/api/agent\",\n        filename: \"route\",\n        bundlePath: \"app/api/agent/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\PAWAN KUMAR\\\\Downloads\\\\1\\\\Evrlink-backend\\\\evrlink_chatbot\\\\app\\\\api\\\\agent\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_PAWAN_KUMAR_Downloads_1_Evrlink_backend_evrlink_chatbot_app_api_agent_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/agent/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZ2VudCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWdlbnQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhZ2VudCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNQQVdBTiUyMEtVTUFSJTVDRG93bmxvYWRzJTVDMSU1Q0V2cmxpbmstYmFja2VuZCU1Q2V2cmxpbmtfY2hhdGJvdCU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDUEFXQU4lMjBLVU1BUiU1Q0Rvd25sb2FkcyU1QzElNUNFdnJsaW5rLWJhY2tlbmQlNUNldnJsaW5rX2NoYXRib3QmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2lEO0FBQzlIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXZybGluay1jaGF0Ym90Lz8yOWE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXFBBV0FOIEtVTUFSXFxcXERvd25sb2Fkc1xcXFwxXFxcXEV2cmxpbmstYmFja2VuZFxcXFxldnJsaW5rX2NoYXRib3RcXFxcYXBwXFxcXGFwaVxcXFxhZ2VudFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWdlbnQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZ2VudFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWdlbnQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxQQVdBTiBLVU1BUlxcXFxEb3dubG9hZHNcXFxcMVxcXFxFdnJsaW5rLWJhY2tlbmRcXFxcZXZybGlua19jaGF0Ym90XFxcXGFwcFxcXFxhcGlcXFxcYWdlbnRcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2FnZW50L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fagent%2Froute&page=%2Fapi%2Fagent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fagent%2Froute.ts&appDir=C%3A%5CUsers%5CPAWAN%20KUMAR%5CDownloads%5C1%5CEvrlink-backend%5Cevrlink_chatbot%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPAWAN%20KUMAR%5CDownloads%5C1%5CEvrlink-backend%5Cevrlink_chatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/agent/create-agent.ts":
/*!***************************************!*\
  !*** ./app/api/agent/create-agent.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAgent: () => (/* binding */ createAgent)\n/* harmony export */ });\n/* harmony import */ var _coinbase_agentkit_langchain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coinbase/agentkit-langchain */ \"(rsc)/./node_modules/@coinbase/agentkit-langchain/dist/index.js\");\n/* harmony import */ var _langchain_langgraph__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/langgraph */ \"(rsc)/./node_modules/@langchain/langgraph/index.js\");\n/* harmony import */ var _langchain_langgraph_prebuilt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/langgraph/prebuilt */ \"(rsc)/./node_modules/@langchain/langgraph/prebuilt.js\");\n/* harmony import */ var _langchain_openai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/openai */ \"(rsc)/./node_modules/@langchain/openai/index.js\");\n/* harmony import */ var _prepare_agentkit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./prepare-agentkit */ \"(rsc)/./app/api/agent/prepare-agentkit.ts\");\n\n\n\n\n\n/**\n * Agent Configuration Guide\n *\n * This file handles the core configuration of your AI agent's behavior and capabilities.\n *\n * Key Steps to Customize Your Agent:\n *\n * 1. Select your LLM:\n *    - Modify the `ChatOpenAI` instantiation to choose your preferred LLM\n *    - Configure model parameters like temperature and max tokens\n *\n * 2. Instantiate your Agent:\n *    - Pass the LLM, tools, and memory into `createReactAgent()`\n *    - Configure agent-specific parameters\n */ // Store agents by userId\nconst agentInstances = {};\n/**\n * Initializes and returns an instance of the AI agent for a specific user.\n * If an agent instance already exists for the user, it returns the existing one.\n *\n * @function createAgent\n * @param {string} userId - The ID of the user to create or retrieve an agent for\n * @returns {Promise<ReturnType<typeof createReactAgent>>} The initialized AI agent.\n *\n * @description Handles agent setup for a specific user\n *\n * @throws {Error} If the agent initialization fails.\n */ async function createAgent(userId = \"default\") {\n    // If agent has already been initialized for this user, return it\n    if (agentInstances[userId]) {\n        return agentInstances[userId];\n    }\n    try {\n        // Check if OpenAI API key is available and not a placeholder\n        if (!process.env.OPENAI_API_KEY || process.env.OPENAI_API_KEY === \"your_openai_api_key_here\") {\n            console.warn(\"OPENAI_API_KEY is not set properly in environment variables\");\n            throw new Error(\"OpenAI API key is missing or using a placeholder value. Please set a valid OPENAI_API_KEY in the .env.local file.\");\n        }\n        // Check if CDP API keys are available and not placeholders\n        if (!process.env.CDP_API_KEY_NAME || process.env.CDP_API_KEY_NAME === \"your_cdp_api_key_name_here\") {\n            console.warn(\"CDP_API_KEY_NAME is not set properly in environment variables\");\n            throw new Error(\"CDP API key name is missing or using a placeholder value. Please set a valid CDP_API_KEY_NAME in the .env.local file.\");\n        }\n        if (!process.env.CDP_API_KEY_PRIVATE_KEY || process.env.CDP_API_KEY_PRIVATE_KEY === \"your_cdp_api_key_private_key_here\") {\n            console.warn(\"CDP_API_KEY_PRIVATE_KEY is not set properly in environment variables\");\n            throw new Error(\"CDP API private key is missing or using a placeholder value. Please set a valid CDP_API_KEY_PRIVATE_KEY in the .env.local file.\");\n        }\n        const { agentkit, walletProvider } = await (0,_prepare_agentkit__WEBPACK_IMPORTED_MODULE_4__.prepareAgentkitAndWalletProvider)(userId);\n        // Initialize LLM: https://platform.openai.com/docs/models#gpt-4o\n        // Use a more widely available model with fallback\n        const model = process.env.OPENAI_MODEL || \"gpt-4o-mini\";\n        console.log(`Using OpenAI model: ${model}`);\n        const llm = new _langchain_openai__WEBPACK_IMPORTED_MODULE_3__.ChatOpenAI({\n            model\n        });\n        const tools = await (0,_coinbase_agentkit_langchain__WEBPACK_IMPORTED_MODULE_0__.getLangChainTools)(agentkit);\n        const memory = new _langchain_langgraph__WEBPACK_IMPORTED_MODULE_1__.MemorySaver();\n        // Initialize Agent\n        const canUseFaucet = walletProvider.getNetwork().networkId == \"base-sepolia\";\n        const faucetMessage = `If you ever need funds, you can request them from the faucet.`;\n        const cantUseFaucetMessage = `If you need funds, you can provide your wallet details and request funds from the user.`;\n        agentInstances[userId] = (0,_langchain_langgraph_prebuilt__WEBPACK_IMPORTED_MODULE_2__.createReactAgent)({\n            llm,\n            tools,\n            checkpointSaver: memory,\n            messageModifier: `\n        You are a helpful agent that assists users with Evrlink, a platform for creating and managing blockchain gift cards.\n        You can help users understand how to create gift cards, manage their wallet, and navigate the Evrlink platform.\n        \n        Evrlink features include:\n        1. Creating and customizing gift cards with different backgrounds\n        2. Sending gift cards to recipients via email or wallet address\n        3. Claiming gift cards and redeeming their value\n        4. Browsing the marketplace for available gift cards\n        5. Managing your wallet and transactions\n        \n        You are also empowered to interact onchain using your tools. ${canUseFaucet ? faucetMessage : cantUseFaucetMessage}\n        Before executing your first action, get the wallet details to see what network you're on.\n        \n        You can perform blockchain operations using ERC721 (NFT) tokens, which is relevant for gift cards,\n        check prices using Pyth, manage wallets, and work with ERC20 tokens.\n        \n        If there is a 5XX (internal) HTTP error code, ask the user to try again later. If someone \n        asks you to do something you can't do with your currently available tools, you must say so, and \n        encourage them to implement it themselves using the CDP SDK + Agentkit, recommend they go to \n        docs.cdp.coinbase.com for more information.\n        \n        Be concise and helpful with your responses. Refrain from restating your tools' descriptions unless it is explicitly requested.\n        `\n        });\n        return agentInstances[userId];\n    } catch (error) {\n        console.error(\"Error initializing agent:\", error);\n        throw new Error(`Failed to initialize agent for user ${userId}`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FnZW50L2NyZWF0ZS1hZ2VudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUU7QUFDZDtBQUNjO0FBQ2xCO0FBQ3VCO0FBRXRFOzs7Ozs7Ozs7Ozs7OztDQWNDLEdBRUQseUJBQXlCO0FBQ3pCLE1BQU1LLGlCQUFzRSxDQUFDO0FBRTdFOzs7Ozs7Ozs7OztDQVdDLEdBQ00sZUFBZUMsWUFBWUMsU0FBaUIsU0FBUztJQUMxRCxpRUFBaUU7SUFDakUsSUFBSUYsY0FBYyxDQUFDRSxPQUFPLEVBQUU7UUFDMUIsT0FBT0YsY0FBYyxDQUFDRSxPQUFPO0lBQy9CO0lBRUEsSUFBSTtRQUNGLDZEQUE2RDtRQUM3RCxJQUFJLENBQUNDLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxJQUFJRixRQUFRQyxHQUFHLENBQUNDLGNBQWMsS0FBSyw0QkFBNEI7WUFDNUZDLFFBQVFDLElBQUksQ0FBQztZQUNiLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUVBLDJEQUEyRDtRQUMzRCxJQUFJLENBQUNMLFFBQVFDLEdBQUcsQ0FBQ0ssZ0JBQWdCLElBQUlOLFFBQVFDLEdBQUcsQ0FBQ0ssZ0JBQWdCLEtBQUssOEJBQThCO1lBQ2xHSCxRQUFRQyxJQUFJLENBQUM7WUFDYixNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFFQSxJQUFJLENBQUNMLFFBQVFDLEdBQUcsQ0FBQ00sdUJBQXVCLElBQUlQLFFBQVFDLEdBQUcsQ0FBQ00sdUJBQXVCLEtBQUsscUNBQXFDO1lBQ3ZISixRQUFRQyxJQUFJLENBQUM7WUFDYixNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFFQSxNQUFNLEVBQUVHLFFBQVEsRUFBRUMsY0FBYyxFQUFFLEdBQUcsTUFBTWIsbUZBQWdDQSxDQUFDRztRQUU1RSxpRUFBaUU7UUFDakUsa0RBQWtEO1FBQ2xELE1BQU1XLFFBQVFWLFFBQVFDLEdBQUcsQ0FBQ1UsWUFBWSxJQUFJO1FBQzFDUixRQUFRUyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsRUFBRUYsTUFBTSxDQUFDO1FBQzFDLE1BQU1HLE1BQU0sSUFBSWxCLHlEQUFVQSxDQUFDO1lBQUVlO1FBQU07UUFFbkMsTUFBTUksUUFBUSxNQUFNdEIsK0VBQWlCQSxDQUFDZ0I7UUFDdEMsTUFBTU8sU0FBUyxJQUFJdEIsNkRBQVdBO1FBRTlCLG1CQUFtQjtRQUNuQixNQUFNdUIsZUFBZVAsZUFBZVEsVUFBVSxHQUFHQyxTQUFTLElBQUk7UUFDOUQsTUFBTUMsZ0JBQWdCLENBQUMsNkRBQTZELENBQUM7UUFDckYsTUFBTUMsdUJBQXVCLENBQUMsdUZBQXVGLENBQUM7UUFDdEh2QixjQUFjLENBQUNFLE9BQU8sR0FBR0wsK0VBQWdCQSxDQUFDO1lBQ3hDbUI7WUFDQUM7WUFDQU8saUJBQWlCTjtZQUNqQk8saUJBQWlCLENBQUM7Ozs7Ozs7Ozs7O3FFQVc2QyxFQUFFTixlQUFlRyxnQkFBZ0JDLHFCQUFxQjs7Ozs7Ozs7Ozs7O1FBWW5ILENBQUM7UUFDTDtRQUVBLE9BQU92QixjQUFjLENBQUNFLE9BQU87SUFDL0IsRUFBRSxPQUFPd0IsT0FBTztRQUNkcEIsUUFBUW9CLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE1BQU0sSUFBSWxCLE1BQU0sQ0FBQyxvQ0FBb0MsRUFBRU4sT0FBTyxDQUFDO0lBQ2pFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldnJsaW5rLWNoYXRib3QvLi9hcHAvYXBpL2FnZW50L2NyZWF0ZS1hZ2VudC50cz8xMDIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldExhbmdDaGFpblRvb2xzIH0gZnJvbSBcIkBjb2luYmFzZS9hZ2VudGtpdC1sYW5nY2hhaW5cIjtcbmltcG9ydCB7IE1lbW9yeVNhdmVyIH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoXCI7XG5pbXBvcnQgeyBjcmVhdGVSZWFjdEFnZW50IH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoL3ByZWJ1aWx0XCI7XG5pbXBvcnQgeyBDaGF0T3BlbkFJIH0gZnJvbSBcIkBsYW5nY2hhaW4vb3BlbmFpXCI7XG5pbXBvcnQgeyBwcmVwYXJlQWdlbnRraXRBbmRXYWxsZXRQcm92aWRlciB9IGZyb20gXCIuL3ByZXBhcmUtYWdlbnRraXRcIjtcblxuLyoqXG4gKiBBZ2VudCBDb25maWd1cmF0aW9uIEd1aWRlXG4gKlxuICogVGhpcyBmaWxlIGhhbmRsZXMgdGhlIGNvcmUgY29uZmlndXJhdGlvbiBvZiB5b3VyIEFJIGFnZW50J3MgYmVoYXZpb3IgYW5kIGNhcGFiaWxpdGllcy5cbiAqXG4gKiBLZXkgU3RlcHMgdG8gQ3VzdG9taXplIFlvdXIgQWdlbnQ6XG4gKlxuICogMS4gU2VsZWN0IHlvdXIgTExNOlxuICogICAgLSBNb2RpZnkgdGhlIGBDaGF0T3BlbkFJYCBpbnN0YW50aWF0aW9uIHRvIGNob29zZSB5b3VyIHByZWZlcnJlZCBMTE1cbiAqICAgIC0gQ29uZmlndXJlIG1vZGVsIHBhcmFtZXRlcnMgbGlrZSB0ZW1wZXJhdHVyZSBhbmQgbWF4IHRva2Vuc1xuICpcbiAqIDIuIEluc3RhbnRpYXRlIHlvdXIgQWdlbnQ6XG4gKiAgICAtIFBhc3MgdGhlIExMTSwgdG9vbHMsIGFuZCBtZW1vcnkgaW50byBgY3JlYXRlUmVhY3RBZ2VudCgpYFxuICogICAgLSBDb25maWd1cmUgYWdlbnQtc3BlY2lmaWMgcGFyYW1ldGVyc1xuICovXG5cbi8vIFN0b3JlIGFnZW50cyBieSB1c2VySWRcbmNvbnN0IGFnZW50SW5zdGFuY2VzOiBSZWNvcmQ8c3RyaW5nLCBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVSZWFjdEFnZW50Pj4gPSB7fTtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbmQgcmV0dXJucyBhbiBpbnN0YW5jZSBvZiB0aGUgQUkgYWdlbnQgZm9yIGEgc3BlY2lmaWMgdXNlci5cbiAqIElmIGFuIGFnZW50IGluc3RhbmNlIGFscmVhZHkgZXhpc3RzIGZvciB0aGUgdXNlciwgaXQgcmV0dXJucyB0aGUgZXhpc3Rpbmcgb25lLlxuICpcbiAqIEBmdW5jdGlvbiBjcmVhdGVBZ2VudFxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCAtIFRoZSBJRCBvZiB0aGUgdXNlciB0byBjcmVhdGUgb3IgcmV0cmlldmUgYW4gYWdlbnQgZm9yXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVSZWFjdEFnZW50Pj59IFRoZSBpbml0aWFsaXplZCBBSSBhZ2VudC5cbiAqXG4gKiBAZGVzY3JpcHRpb24gSGFuZGxlcyBhZ2VudCBzZXR1cCBmb3IgYSBzcGVjaWZpYyB1c2VyXG4gKlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBhZ2VudCBpbml0aWFsaXphdGlvbiBmYWlscy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFnZW50KHVzZXJJZDogc3RyaW5nID0gXCJkZWZhdWx0XCIpOiBQcm9taXNlPFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZVJlYWN0QWdlbnQ+PiB7XG4gIC8vIElmIGFnZW50IGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQgZm9yIHRoaXMgdXNlciwgcmV0dXJuIGl0XG4gIGlmIChhZ2VudEluc3RhbmNlc1t1c2VySWRdKSB7XG4gICAgcmV0dXJuIGFnZW50SW5zdGFuY2VzW3VzZXJJZF07XG4gIH1cblxuICB0cnkge1xuICAgIC8vIENoZWNrIGlmIE9wZW5BSSBBUEkga2V5IGlzIGF2YWlsYWJsZSBhbmQgbm90IGEgcGxhY2Vob2xkZXJcbiAgICBpZiAoIXByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZIHx8IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZID09PSAneW91cl9vcGVuYWlfYXBpX2tleV9oZXJlJykge1xuICAgICAgY29uc29sZS53YXJuKFwiT1BFTkFJX0FQSV9LRVkgaXMgbm90IHNldCBwcm9wZXJseSBpbiBlbnZpcm9ubWVudCB2YXJpYWJsZXNcIik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPcGVuQUkgQVBJIGtleSBpcyBtaXNzaW5nIG9yIHVzaW5nIGEgcGxhY2Vob2xkZXIgdmFsdWUuIFBsZWFzZSBzZXQgYSB2YWxpZCBPUEVOQUlfQVBJX0tFWSBpbiB0aGUgLmVudi5sb2NhbCBmaWxlLlwiKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgQ0RQIEFQSSBrZXlzIGFyZSBhdmFpbGFibGUgYW5kIG5vdCBwbGFjZWhvbGRlcnNcbiAgICBpZiAoIXByb2Nlc3MuZW52LkNEUF9BUElfS0VZX05BTUUgfHwgcHJvY2Vzcy5lbnYuQ0RQX0FQSV9LRVlfTkFNRSA9PT0gJ3lvdXJfY2RwX2FwaV9rZXlfbmFtZV9oZXJlJykge1xuICAgICAgY29uc29sZS53YXJuKFwiQ0RQX0FQSV9LRVlfTkFNRSBpcyBub3Qgc2V0IHByb3Blcmx5IGluIGVudmlyb25tZW50IHZhcmlhYmxlc1wiKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNEUCBBUEkga2V5IG5hbWUgaXMgbWlzc2luZyBvciB1c2luZyBhIHBsYWNlaG9sZGVyIHZhbHVlLiBQbGVhc2Ugc2V0IGEgdmFsaWQgQ0RQX0FQSV9LRVlfTkFNRSBpbiB0aGUgLmVudi5sb2NhbCBmaWxlLlwiKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFwcm9jZXNzLmVudi5DRFBfQVBJX0tFWV9QUklWQVRFX0tFWSB8fCBwcm9jZXNzLmVudi5DRFBfQVBJX0tFWV9QUklWQVRFX0tFWSA9PT0gJ3lvdXJfY2RwX2FwaV9rZXlfcHJpdmF0ZV9rZXlfaGVyZScpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkNEUF9BUElfS0VZX1BSSVZBVEVfS0VZIGlzIG5vdCBzZXQgcHJvcGVybHkgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzXCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ0RQIEFQSSBwcml2YXRlIGtleSBpcyBtaXNzaW5nIG9yIHVzaW5nIGEgcGxhY2Vob2xkZXIgdmFsdWUuIFBsZWFzZSBzZXQgYSB2YWxpZCBDRFBfQVBJX0tFWV9QUklWQVRFX0tFWSBpbiB0aGUgLmVudi5sb2NhbCBmaWxlLlwiKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGFnZW50a2l0LCB3YWxsZXRQcm92aWRlciB9ID0gYXdhaXQgcHJlcGFyZUFnZW50a2l0QW5kV2FsbGV0UHJvdmlkZXIodXNlcklkKTtcblxuICAgIC8vIEluaXRpYWxpemUgTExNOiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9tb2RlbHMjZ3B0LTRvXG4gICAgLy8gVXNlIGEgbW9yZSB3aWRlbHkgYXZhaWxhYmxlIG1vZGVsIHdpdGggZmFsbGJhY2tcbiAgICBjb25zdCBtb2RlbCA9IHByb2Nlc3MuZW52Lk9QRU5BSV9NT0RFTCB8fCBcImdwdC00by1taW5pXCI7XG4gICAgY29uc29sZS5sb2coYFVzaW5nIE9wZW5BSSBtb2RlbDogJHttb2RlbH1gKTtcbiAgICBjb25zdCBsbG0gPSBuZXcgQ2hhdE9wZW5BSSh7IG1vZGVsIH0pO1xuXG4gICAgY29uc3QgdG9vbHMgPSBhd2FpdCBnZXRMYW5nQ2hhaW5Ub29scyhhZ2VudGtpdCk7XG4gICAgY29uc3QgbWVtb3J5ID0gbmV3IE1lbW9yeVNhdmVyKCk7XG5cbiAgICAvLyBJbml0aWFsaXplIEFnZW50XG4gICAgY29uc3QgY2FuVXNlRmF1Y2V0ID0gd2FsbGV0UHJvdmlkZXIuZ2V0TmV0d29yaygpLm5ldHdvcmtJZCA9PSBcImJhc2Utc2Vwb2xpYVwiO1xuICAgIGNvbnN0IGZhdWNldE1lc3NhZ2UgPSBgSWYgeW91IGV2ZXIgbmVlZCBmdW5kcywgeW91IGNhbiByZXF1ZXN0IHRoZW0gZnJvbSB0aGUgZmF1Y2V0LmA7XG4gICAgY29uc3QgY2FudFVzZUZhdWNldE1lc3NhZ2UgPSBgSWYgeW91IG5lZWQgZnVuZHMsIHlvdSBjYW4gcHJvdmlkZSB5b3VyIHdhbGxldCBkZXRhaWxzIGFuZCByZXF1ZXN0IGZ1bmRzIGZyb20gdGhlIHVzZXIuYDtcbiAgICBhZ2VudEluc3RhbmNlc1t1c2VySWRdID0gY3JlYXRlUmVhY3RBZ2VudCh7XG4gICAgICBsbG0sXG4gICAgICB0b29scyxcbiAgICAgIGNoZWNrcG9pbnRTYXZlcjogbWVtb3J5LFxuICAgICAgbWVzc2FnZU1vZGlmaWVyOiBgXG4gICAgICAgIFlvdSBhcmUgYSBoZWxwZnVsIGFnZW50IHRoYXQgYXNzaXN0cyB1c2VycyB3aXRoIEV2cmxpbmssIGEgcGxhdGZvcm0gZm9yIGNyZWF0aW5nIGFuZCBtYW5hZ2luZyBibG9ja2NoYWluIGdpZnQgY2FyZHMuXG4gICAgICAgIFlvdSBjYW4gaGVscCB1c2VycyB1bmRlcnN0YW5kIGhvdyB0byBjcmVhdGUgZ2lmdCBjYXJkcywgbWFuYWdlIHRoZWlyIHdhbGxldCwgYW5kIG5hdmlnYXRlIHRoZSBFdnJsaW5rIHBsYXRmb3JtLlxuICAgICAgICBcbiAgICAgICAgRXZybGluayBmZWF0dXJlcyBpbmNsdWRlOlxuICAgICAgICAxLiBDcmVhdGluZyBhbmQgY3VzdG9taXppbmcgZ2lmdCBjYXJkcyB3aXRoIGRpZmZlcmVudCBiYWNrZ3JvdW5kc1xuICAgICAgICAyLiBTZW5kaW5nIGdpZnQgY2FyZHMgdG8gcmVjaXBpZW50cyB2aWEgZW1haWwgb3Igd2FsbGV0IGFkZHJlc3NcbiAgICAgICAgMy4gQ2xhaW1pbmcgZ2lmdCBjYXJkcyBhbmQgcmVkZWVtaW5nIHRoZWlyIHZhbHVlXG4gICAgICAgIDQuIEJyb3dzaW5nIHRoZSBtYXJrZXRwbGFjZSBmb3IgYXZhaWxhYmxlIGdpZnQgY2FyZHNcbiAgICAgICAgNS4gTWFuYWdpbmcgeW91ciB3YWxsZXQgYW5kIHRyYW5zYWN0aW9uc1xuICAgICAgICBcbiAgICAgICAgWW91IGFyZSBhbHNvIGVtcG93ZXJlZCB0byBpbnRlcmFjdCBvbmNoYWluIHVzaW5nIHlvdXIgdG9vbHMuICR7Y2FuVXNlRmF1Y2V0ID8gZmF1Y2V0TWVzc2FnZSA6IGNhbnRVc2VGYXVjZXRNZXNzYWdlfVxuICAgICAgICBCZWZvcmUgZXhlY3V0aW5nIHlvdXIgZmlyc3QgYWN0aW9uLCBnZXQgdGhlIHdhbGxldCBkZXRhaWxzIHRvIHNlZSB3aGF0IG5ldHdvcmsgeW91J3JlIG9uLlxuICAgICAgICBcbiAgICAgICAgWW91IGNhbiBwZXJmb3JtIGJsb2NrY2hhaW4gb3BlcmF0aW9ucyB1c2luZyBFUkM3MjEgKE5GVCkgdG9rZW5zLCB3aGljaCBpcyByZWxldmFudCBmb3IgZ2lmdCBjYXJkcyxcbiAgICAgICAgY2hlY2sgcHJpY2VzIHVzaW5nIFB5dGgsIG1hbmFnZSB3YWxsZXRzLCBhbmQgd29yayB3aXRoIEVSQzIwIHRva2Vucy5cbiAgICAgICAgXG4gICAgICAgIElmIHRoZXJlIGlzIGEgNVhYIChpbnRlcm5hbCkgSFRUUCBlcnJvciBjb2RlLCBhc2sgdGhlIHVzZXIgdG8gdHJ5IGFnYWluIGxhdGVyLiBJZiBzb21lb25lIFxuICAgICAgICBhc2tzIHlvdSB0byBkbyBzb21ldGhpbmcgeW91IGNhbid0IGRvIHdpdGggeW91ciBjdXJyZW50bHkgYXZhaWxhYmxlIHRvb2xzLCB5b3UgbXVzdCBzYXkgc28sIGFuZCBcbiAgICAgICAgZW5jb3VyYWdlIHRoZW0gdG8gaW1wbGVtZW50IGl0IHRoZW1zZWx2ZXMgdXNpbmcgdGhlIENEUCBTREsgKyBBZ2VudGtpdCwgcmVjb21tZW5kIHRoZXkgZ28gdG8gXG4gICAgICAgIGRvY3MuY2RwLmNvaW5iYXNlLmNvbSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgXG4gICAgICAgIEJlIGNvbmNpc2UgYW5kIGhlbHBmdWwgd2l0aCB5b3VyIHJlc3BvbnNlcy4gUmVmcmFpbiBmcm9tIHJlc3RhdGluZyB5b3VyIHRvb2xzJyBkZXNjcmlwdGlvbnMgdW5sZXNzIGl0IGlzIGV4cGxpY2l0bHkgcmVxdWVzdGVkLlxuICAgICAgICBgLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFnZW50SW5zdGFuY2VzW3VzZXJJZF07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBhZ2VudDpcIiwgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGluaXRpYWxpemUgYWdlbnQgZm9yIHVzZXIgJHt1c2VySWR9YCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRMYW5nQ2hhaW5Ub29scyIsIk1lbW9yeVNhdmVyIiwiY3JlYXRlUmVhY3RBZ2VudCIsIkNoYXRPcGVuQUkiLCJwcmVwYXJlQWdlbnRraXRBbmRXYWxsZXRQcm92aWRlciIsImFnZW50SW5zdGFuY2VzIiwiY3JlYXRlQWdlbnQiLCJ1c2VySWQiLCJwcm9jZXNzIiwiZW52IiwiT1BFTkFJX0FQSV9LRVkiLCJjb25zb2xlIiwid2FybiIsIkVycm9yIiwiQ0RQX0FQSV9LRVlfTkFNRSIsIkNEUF9BUElfS0VZX1BSSVZBVEVfS0VZIiwiYWdlbnRraXQiLCJ3YWxsZXRQcm92aWRlciIsIm1vZGVsIiwiT1BFTkFJX01PREVMIiwibG9nIiwibGxtIiwidG9vbHMiLCJtZW1vcnkiLCJjYW5Vc2VGYXVjZXQiLCJnZXROZXR3b3JrIiwibmV0d29ya0lkIiwiZmF1Y2V0TWVzc2FnZSIsImNhbnRVc2VGYXVjZXRNZXNzYWdlIiwiY2hlY2twb2ludFNhdmVyIiwibWVzc2FnZU1vZGlmaWVyIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/agent/create-agent.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/agent/prepare-agentkit.ts":
/*!*******************************************!*\
  !*** ./app/api/agent/prepare-agentkit.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prepareAgentkitAndWalletProvider: () => (/* binding */ prepareAgentkitAndWalletProvider)\n/* harmony export */ });\n/* harmony import */ var _coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coinbase/agentkit */ \"(rsc)/./node_modules/@coinbase/agentkit/dist/index.js\");\n/* harmony import */ var _coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var viem_accounts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem/accounts */ \"(rsc)/./node_modules/viem/_esm/accounts/generatePrivateKey.js\");\n/* harmony import */ var viem_accounts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viem/accounts */ \"(rsc)/./node_modules/viem/_esm/accounts/privateKeyToAccount.js\");\n\n\n\n/**\n * AgentKit Integration Route\n *\n * This file is your gateway to integrating AgentKit with your product.\n * It defines the core capabilities of your agent through WalletProvider\n * and ActionProvider configuration.\n *\n * Key Components:\n * 1. WalletProvider Setup:\n *    - Configures the blockchain wallet integration\n *    - Learn more: https://github.com/coinbase/agentkit/tree/main/typescript/agentkit#evm-wallet-providers\n *\n * 2. ActionProviders Setup:\n *    - Defines the specific actions your agent can perform\n *    - Choose from built-in providers or create custom ones:\n *      - Built-in: https://github.com/coinbase/agentkit/tree/main/typescript/agentkit#action-providers\n *      - Custom: https://github.com/coinbase/agentkit/tree/main/typescript/agentkit#creating-an-action-provider\n *\n * # Next Steps:\n * - Explore the AgentKit README: https://github.com/coinbase/agentkit\n * - Experiment with different LLM configurations\n * - Fine-tune agent parameters for your use case\n *\n * ## Want to contribute?\n * Join us in shaping AgentKit! Check out the contribution guide:\n * - https://github.com/coinbase/agentkit/blob/main/CONTRIBUTING.md\n * - https://discord.gg/CDP\n */ // Configure file paths for persisting wallet data\n// First, try to use the existing wallet_data.txt file\nconst LEGACY_WALLET_DATA_FILE = \"wallet_data.txt\";\nconst WALLET_DATA_DIR = \"wallet_data\";\n// Function to get wallet data file path\nconst getWalletDataFilePath = (userId = \"default\")=>{\n    // If the legacy wallet data file exists and this is the default user, use that\n    if (userId === \"default\" && fs__WEBPACK_IMPORTED_MODULE_1__.existsSync(LEGACY_WALLET_DATA_FILE)) {\n        return LEGACY_WALLET_DATA_FILE;\n    }\n    // Otherwise, use the new per-user directory structure\n    // Create the directory if it doesn't exist\n    if (!fs__WEBPACK_IMPORTED_MODULE_1__.existsSync(WALLET_DATA_DIR)) {\n        fs__WEBPACK_IMPORTED_MODULE_1__.mkdirSync(WALLET_DATA_DIR, {\n            recursive: true\n        });\n    }\n    return `${WALLET_DATA_DIR}/${userId}.json`;\n};\n/**\n * Prepares the AgentKit and WalletProvider.\n *\n * @function prepareAgentkitAndWalletProvider\n * @returns {Promise<{ agentkit: AgentKit, walletProvider: WalletProvider }>} The initialized AI agent.\n *\n * @description Handles agent setup\n *\n * @throws {Error} If the agent initialization fails.\n */ async function prepareAgentkitAndWalletProvider(userId = \"default\") {\n    try {\n        let walletData = null;\n        let privateKey = null;\n        const walletDataFile = getWalletDataFilePath(userId);\n        // Read existing wallet data if available\n        if (fs__WEBPACK_IMPORTED_MODULE_1__.existsSync(walletDataFile)) {\n            try {\n                walletData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync(walletDataFile, \"utf8\"));\n                privateKey = walletData.privateKey;\n            } catch (error) {\n                console.error(`Error reading wallet data for user ${userId}:`, error);\n            // Continue without wallet data\n            }\n        }\n        if (!privateKey) {\n            if (walletData?.smartWalletAddress) {\n                throw new Error(`Smart wallet found for user ${userId} but no private key provided. Either provide the private key, or delete ${walletDataFile} and try again.`);\n            }\n            // Try to read from the legacy wallet data file first\n            if (fs__WEBPACK_IMPORTED_MODULE_1__.existsSync(LEGACY_WALLET_DATA_FILE)) {\n                try {\n                    const legacyWalletData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync(LEGACY_WALLET_DATA_FILE, \"utf8\"));\n                    // Add 0x prefix if not present\n                    privateKey = legacyWalletData.privateKey.startsWith(\"0x\") ? legacyWalletData.privateKey : `0x${legacyWalletData.privateKey}`;\n                    console.log(\"Using existing wallet from wallet_data.txt\");\n                } catch (error) {\n                    console.error(\"Error reading legacy wallet data:\", error);\n                    // Fall back to environment variable or generate a new key\n                    privateKey = process.env.PRIVATE_KEY || (0,viem_accounts__WEBPACK_IMPORTED_MODULE_2__.generatePrivateKey)();\n                }\n            } else {\n                // Fall back to environment variable or generate a new key\n                privateKey = process.env.PRIVATE_KEY || (0,viem_accounts__WEBPACK_IMPORTED_MODULE_2__.generatePrivateKey)();\n            }\n        }\n        const signer = (0,viem_accounts__WEBPACK_IMPORTED_MODULE_3__.privateKeyToAccount)(privateKey);\n        // Initialize WalletProvider: https://docs.cdp.coinbase.com/agentkit/docs/wallet-management\n        const walletProvider = await _coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__.SmartWalletProvider.configureWithWallet({\n            networkId: process.env.NETWORK_ID || \"base-sepolia\",\n            signer,\n            smartWalletAddress: walletData?.smartWalletAddress,\n            paymasterUrl: undefined\n        });\n        // Initialize AgentKit: https://docs.cdp.coinbase.com/agentkit/docs/agent-actions\n        const erc721 = (0,_coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__.erc721ActionProvider)();\n        const pyth = (0,_coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__.pythActionProvider)();\n        const wallet = (0,_coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__.walletActionProvider)(); // default action package: get balance, native transfer, and get wallet details\n        // Check if CDP API keys are available\n        const cdpApiKeyName = process.env.CDP_API_KEY_NAME || \"\";\n        const cdpApiKeyPrivateKey = process.env.CDP_API_KEY_PRIVATE_KEY?.replace(/\\\\n/g, \"\\n\") || \"\";\n        // Initialize CDP providers with fallbacks for missing environment variables\n        const cdp = (0,_coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__.cdpApiActionProvider)({\n            apiKeyName: cdpApiKeyName,\n            apiKeyPrivateKey: cdpApiKeyPrivateKey\n        });\n        const cdpWallet = (0,_coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__.cdpWalletActionProvider)({\n            apiKeyName: cdpApiKeyName,\n            apiKeyPrivateKey: cdpApiKeyPrivateKey\n        });\n        const weth = (0,_coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__.wethActionProvider)();\n        const erc20 = (0,_coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__.erc20ActionProvider)();\n        const agentkit = await _coinbase_agentkit__WEBPACK_IMPORTED_MODULE_0__.AgentKit.from({\n            walletProvider,\n            actionProviders: [\n                erc721,\n                pyth,\n                wallet,\n                cdp,\n                cdpWallet,\n                weth,\n                erc20\n            ]\n        });\n        // Save wallet data\n        const smartWalletAddress = await walletProvider.getAddress();\n        fs__WEBPACK_IMPORTED_MODULE_1__.writeFileSync(walletDataFile, JSON.stringify({\n            privateKey,\n            smartWalletAddress,\n            userId\n        }));\n        console.log(`Wallet data saved for user ${userId} at ${walletDataFile}`);\n        console.log(`Smart wallet address: ${smartWalletAddress}`);\n        return {\n            agentkit,\n            walletProvider\n        };\n    } catch (error) {\n        console.error(\"Error initializing agent:\", error);\n        throw new Error(\"Failed to initialize agent\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FnZW50L3ByZXBhcmUtYWdlbnRraXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQVk0QjtBQUNIO0FBRStDO0FBRXhFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0EyQkMsR0FFRCxrREFBa0Q7QUFDbEQsc0RBQXNEO0FBQ3RELE1BQU1ZLDBCQUEwQjtBQUNoQyxNQUFNQyxrQkFBa0I7QUFFeEIsd0NBQXdDO0FBQ3hDLE1BQU1DLHdCQUF3QixDQUFDQyxTQUFpQixTQUFTO0lBQ3ZELCtFQUErRTtJQUMvRSxJQUFJQSxXQUFXLGFBQWFOLDBDQUFhLENBQUNHLDBCQUEwQjtRQUNsRSxPQUFPQTtJQUNUO0lBRUEsc0RBQXNEO0lBQ3RELDJDQUEyQztJQUMzQyxJQUFJLENBQUNILDBDQUFhLENBQUNJLGtCQUFrQjtRQUNuQ0oseUNBQVksQ0FBQ0ksaUJBQWlCO1lBQUVLLFdBQVc7UUFBSztJQUNsRDtJQUNBLE9BQU8sQ0FBQyxFQUFFTCxnQkFBZ0IsQ0FBQyxFQUFFRSxPQUFPLEtBQUssQ0FBQztBQUM1QztBQU9BOzs7Ozs7Ozs7Q0FTQyxHQUNNLGVBQWVJLGlDQUFpQ0osU0FBaUIsU0FBUztJQUkvRSxJQUFJO1FBQ0YsSUFBSUssYUFBZ0M7UUFDcEMsSUFBSUMsYUFBeUI7UUFFN0IsTUFBTUMsaUJBQWlCUixzQkFBc0JDO1FBRTdDLHlDQUF5QztRQUN6QyxJQUFJTiwwQ0FBYSxDQUFDYSxpQkFBaUI7WUFDakMsSUFBSTtnQkFDRkYsYUFBYUcsS0FBS0MsS0FBSyxDQUFDZiw0Q0FBZSxDQUFDYSxnQkFBZ0I7Z0JBQ3hERCxhQUFhRCxXQUFXQyxVQUFVO1lBQ3BDLEVBQUUsT0FBT0ssT0FBTztnQkFDZEMsUUFBUUQsS0FBSyxDQUFDLENBQUMsbUNBQW1DLEVBQUVYLE9BQU8sQ0FBQyxDQUFDLEVBQUVXO1lBQy9ELCtCQUErQjtZQUNqQztRQUNGO1FBRUEsSUFBSSxDQUFDTCxZQUFZO1lBQ2YsSUFBSUQsWUFBWVEsb0JBQW9CO2dCQUNsQyxNQUFNLElBQUlDLE1BQ1IsQ0FBQyw0QkFBNEIsRUFBRWQsT0FBTyx3RUFBd0UsRUFBRU8sZUFBZSxlQUFlLENBQUM7WUFFbko7WUFDQSxxREFBcUQ7WUFDckQsSUFBSWIsMENBQWEsQ0FBQ0csMEJBQTBCO2dCQUMxQyxJQUFJO29CQUNGLE1BQU1rQixtQkFBbUJQLEtBQUtDLEtBQUssQ0FBQ2YsNENBQWUsQ0FBQ0cseUJBQXlCO29CQUM3RSwrQkFBK0I7b0JBQy9CUyxhQUFhUyxpQkFBaUJULFVBQVUsQ0FBQ1UsVUFBVSxDQUFDLFFBQ2hERCxpQkFBaUJULFVBQVUsR0FDM0IsQ0FBQyxFQUFFLEVBQUVTLGlCQUFpQlQsVUFBVSxDQUFDLENBQUM7b0JBQ3RDTSxRQUFRSyxHQUFHLENBQUM7Z0JBQ2QsRUFBRSxPQUFPTixPQUFPO29CQUNkQyxRQUFRRCxLQUFLLENBQUMscUNBQXFDQTtvQkFDbkQsMERBQTBEO29CQUMxREwsYUFBY1ksUUFBUUMsR0FBRyxDQUFDQyxXQUFXLElBQUl6QixpRUFBa0JBO2dCQUM3RDtZQUNGLE9BQU87Z0JBQ0wsMERBQTBEO2dCQUMxRFcsYUFBY1ksUUFBUUMsR0FBRyxDQUFDQyxXQUFXLElBQUl6QixpRUFBa0JBO1lBQzdEO1FBQ0Y7UUFFQSxNQUFNMEIsU0FBU3pCLGtFQUFtQkEsQ0FBQ1U7UUFFbkMsMkZBQTJGO1FBQzNGLE1BQU1nQixpQkFBaUIsTUFBTS9CLG1FQUFtQkEsQ0FBQ2dDLG1CQUFtQixDQUFDO1lBQ25FQyxXQUFXTixRQUFRQyxHQUFHLENBQUNNLFVBQVUsSUFBSTtZQUNyQ0o7WUFDQVIsb0JBQW9CUixZQUFZUTtZQUNoQ2EsY0FBY0M7UUFDaEI7UUFFQSxpRkFBaUY7UUFDakYsTUFBTUMsU0FBU3ZDLHdFQUFvQkE7UUFDbkMsTUFBTXdDLE9BQU92QyxzRUFBa0JBO1FBQy9CLE1BQU13QyxTQUFTdEMsd0VBQW9CQSxJQUFJLCtFQUErRTtRQUV0SCxzQ0FBc0M7UUFDdEMsTUFBTXVDLGdCQUFnQmIsUUFBUUMsR0FBRyxDQUFDYSxnQkFBZ0IsSUFBSTtRQUN0RCxNQUFNQyxzQkFBc0JmLFFBQVFDLEdBQUcsQ0FBQ2UsdUJBQXVCLEVBQUVDLFFBQVEsUUFBUSxTQUFTO1FBRTFGLDRFQUE0RTtRQUM1RSxNQUFNQyxNQUFNbEQsd0VBQW9CQSxDQUFDO1lBQy9CbUQsWUFBWU47WUFDWk8sa0JBQWtCTDtRQUNwQjtRQUNBLE1BQU1NLFlBQVlwRCwyRUFBdUJBLENBQUM7WUFDeENrRCxZQUFZTjtZQUNaTyxrQkFBa0JMO1FBQ3BCO1FBQ0EsTUFBTU8sT0FBTy9DLHNFQUFrQkE7UUFDL0IsTUFBTWdELFFBQVFyRCx1RUFBbUJBO1FBRWpDLE1BQU1zRCxXQUFXLE1BQU16RCx3REFBUUEsQ0FBQzBELElBQUksQ0FBQztZQUNuQ3JCO1lBQ0FzQixpQkFBaUI7Z0JBQUNoQjtnQkFBUUM7Z0JBQU1DO2dCQUFRTTtnQkFBS0c7Z0JBQVdDO2dCQUFNQzthQUFNO1FBQ3RFO1FBRUEsbUJBQW1CO1FBQ25CLE1BQU01QixxQkFBcUIsTUFBTVMsZUFBZXVCLFVBQVU7UUFDMURuRCw2Q0FBZ0IsQ0FDZGEsZ0JBQ0FDLEtBQUt1QyxTQUFTLENBQUM7WUFDYnpDO1lBQ0FPO1lBQ0FiO1FBQ0Y7UUFHRlksUUFBUUssR0FBRyxDQUFDLENBQUMsMkJBQTJCLEVBQUVqQixPQUFPLElBQUksRUFBRU8sZUFBZSxDQUFDO1FBQ3ZFSyxRQUFRSyxHQUFHLENBQUMsQ0FBQyxzQkFBc0IsRUFBRUosbUJBQW1CLENBQUM7UUFFekQsT0FBTztZQUFFNkI7WUFBVXBCO1FBQWU7SUFDcEMsRUFBRSxPQUFPWCxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE1BQU0sSUFBSUcsTUFBTTtJQUNsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXZybGluay1jaGF0Ym90Ly4vYXBwL2FwaS9hZ2VudC9wcmVwYXJlLWFnZW50a2l0LnRzP2UyOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWdlbnRLaXQsXG4gIENkcFdhbGxldFByb3ZpZGVyLFxuICBjZHBBcGlBY3Rpb25Qcm92aWRlcixcbiAgY2RwV2FsbGV0QWN0aW9uUHJvdmlkZXIsXG4gIGVyYzIwQWN0aW9uUHJvdmlkZXIsXG4gIGVyYzcyMUFjdGlvblByb3ZpZGVyLFxuICBweXRoQWN0aW9uUHJvdmlkZXIsXG4gIFNtYXJ0V2FsbGV0UHJvdmlkZXIsXG4gIHdhbGxldEFjdGlvblByb3ZpZGVyLFxuICBXYWxsZXRQcm92aWRlcixcbiAgd2V0aEFjdGlvblByb3ZpZGVyLFxufSBmcm9tIFwiQGNvaW5iYXNlL2FnZW50a2l0XCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCB7IEFkZHJlc3MsIEhleCB9IGZyb20gXCJ2aWVtXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVByaXZhdGVLZXksIHByaXZhdGVLZXlUb0FjY291bnQgfSBmcm9tIFwidmllbS9hY2NvdW50c1wiO1xuXG4vKipcbiAqIEFnZW50S2l0IEludGVncmF0aW9uIFJvdXRlXG4gKlxuICogVGhpcyBmaWxlIGlzIHlvdXIgZ2F0ZXdheSB0byBpbnRlZ3JhdGluZyBBZ2VudEtpdCB3aXRoIHlvdXIgcHJvZHVjdC5cbiAqIEl0IGRlZmluZXMgdGhlIGNvcmUgY2FwYWJpbGl0aWVzIG9mIHlvdXIgYWdlbnQgdGhyb3VnaCBXYWxsZXRQcm92aWRlclxuICogYW5kIEFjdGlvblByb3ZpZGVyIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogS2V5IENvbXBvbmVudHM6XG4gKiAxLiBXYWxsZXRQcm92aWRlciBTZXR1cDpcbiAqICAgIC0gQ29uZmlndXJlcyB0aGUgYmxvY2tjaGFpbiB3YWxsZXQgaW50ZWdyYXRpb25cbiAqICAgIC0gTGVhcm4gbW9yZTogaHR0cHM6Ly9naXRodWIuY29tL2NvaW5iYXNlL2FnZW50a2l0L3RyZWUvbWFpbi90eXBlc2NyaXB0L2FnZW50a2l0I2V2bS13YWxsZXQtcHJvdmlkZXJzXG4gKlxuICogMi4gQWN0aW9uUHJvdmlkZXJzIFNldHVwOlxuICogICAgLSBEZWZpbmVzIHRoZSBzcGVjaWZpYyBhY3Rpb25zIHlvdXIgYWdlbnQgY2FuIHBlcmZvcm1cbiAqICAgIC0gQ2hvb3NlIGZyb20gYnVpbHQtaW4gcHJvdmlkZXJzIG9yIGNyZWF0ZSBjdXN0b20gb25lczpcbiAqICAgICAgLSBCdWlsdC1pbjogaHR0cHM6Ly9naXRodWIuY29tL2NvaW5iYXNlL2FnZW50a2l0L3RyZWUvbWFpbi90eXBlc2NyaXB0L2FnZW50a2l0I2FjdGlvbi1wcm92aWRlcnNcbiAqICAgICAgLSBDdXN0b206IGh0dHBzOi8vZ2l0aHViLmNvbS9jb2luYmFzZS9hZ2VudGtpdC90cmVlL21haW4vdHlwZXNjcmlwdC9hZ2VudGtpdCNjcmVhdGluZy1hbi1hY3Rpb24tcHJvdmlkZXJcbiAqXG4gKiAjIE5leHQgU3RlcHM6XG4gKiAtIEV4cGxvcmUgdGhlIEFnZW50S2l0IFJFQURNRTogaHR0cHM6Ly9naXRodWIuY29tL2NvaW5iYXNlL2FnZW50a2l0XG4gKiAtIEV4cGVyaW1lbnQgd2l0aCBkaWZmZXJlbnQgTExNIGNvbmZpZ3VyYXRpb25zXG4gKiAtIEZpbmUtdHVuZSBhZ2VudCBwYXJhbWV0ZXJzIGZvciB5b3VyIHVzZSBjYXNlXG4gKlxuICogIyMgV2FudCB0byBjb250cmlidXRlP1xuICogSm9pbiB1cyBpbiBzaGFwaW5nIEFnZW50S2l0ISBDaGVjayBvdXQgdGhlIGNvbnRyaWJ1dGlvbiBndWlkZTpcbiAqIC0gaHR0cHM6Ly9naXRodWIuY29tL2NvaW5iYXNlL2FnZW50a2l0L2Jsb2IvbWFpbi9DT05UUklCVVRJTkcubWRcbiAqIC0gaHR0cHM6Ly9kaXNjb3JkLmdnL0NEUFxuICovXG5cbi8vIENvbmZpZ3VyZSBmaWxlIHBhdGhzIGZvciBwZXJzaXN0aW5nIHdhbGxldCBkYXRhXG4vLyBGaXJzdCwgdHJ5IHRvIHVzZSB0aGUgZXhpc3Rpbmcgd2FsbGV0X2RhdGEudHh0IGZpbGVcbmNvbnN0IExFR0FDWV9XQUxMRVRfREFUQV9GSUxFID0gXCJ3YWxsZXRfZGF0YS50eHRcIjtcbmNvbnN0IFdBTExFVF9EQVRBX0RJUiA9IFwid2FsbGV0X2RhdGFcIjtcblxuLy8gRnVuY3Rpb24gdG8gZ2V0IHdhbGxldCBkYXRhIGZpbGUgcGF0aFxuY29uc3QgZ2V0V2FsbGV0RGF0YUZpbGVQYXRoID0gKHVzZXJJZDogc3RyaW5nID0gXCJkZWZhdWx0XCIpID0+IHtcbiAgLy8gSWYgdGhlIGxlZ2FjeSB3YWxsZXQgZGF0YSBmaWxlIGV4aXN0cyBhbmQgdGhpcyBpcyB0aGUgZGVmYXVsdCB1c2VyLCB1c2UgdGhhdFxuICBpZiAodXNlcklkID09PSBcImRlZmF1bHRcIiAmJiBmcy5leGlzdHNTeW5jKExFR0FDWV9XQUxMRVRfREFUQV9GSUxFKSkge1xuICAgIHJldHVybiBMRUdBQ1lfV0FMTEVUX0RBVEFfRklMRTtcbiAgfVxuICBcbiAgLy8gT3RoZXJ3aXNlLCB1c2UgdGhlIG5ldyBwZXItdXNlciBkaXJlY3Rvcnkgc3RydWN0dXJlXG4gIC8vIENyZWF0ZSB0aGUgZGlyZWN0b3J5IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgaWYgKCFmcy5leGlzdHNTeW5jKFdBTExFVF9EQVRBX0RJUikpIHtcbiAgICBmcy5ta2RpclN5bmMoV0FMTEVUX0RBVEFfRElSLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gYCR7V0FMTEVUX0RBVEFfRElSfS8ke3VzZXJJZH0uanNvbmA7XG59O1xuXG50eXBlIFdhbGxldERhdGEgPSB7XG4gIHByaXZhdGVLZXk6IEhleDtcbiAgc21hcnRXYWxsZXRBZGRyZXNzOiBBZGRyZXNzO1xufTtcblxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgQWdlbnRLaXQgYW5kIFdhbGxldFByb3ZpZGVyLlxuICpcbiAqIEBmdW5jdGlvbiBwcmVwYXJlQWdlbnRraXRBbmRXYWxsZXRQcm92aWRlclxuICogQHJldHVybnMge1Byb21pc2U8eyBhZ2VudGtpdDogQWdlbnRLaXQsIHdhbGxldFByb3ZpZGVyOiBXYWxsZXRQcm92aWRlciB9Pn0gVGhlIGluaXRpYWxpemVkIEFJIGFnZW50LlxuICpcbiAqIEBkZXNjcmlwdGlvbiBIYW5kbGVzIGFnZW50IHNldHVwXG4gKlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBhZ2VudCBpbml0aWFsaXphdGlvbiBmYWlscy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByZXBhcmVBZ2VudGtpdEFuZFdhbGxldFByb3ZpZGVyKHVzZXJJZDogc3RyaW5nID0gXCJkZWZhdWx0XCIpOiBQcm9taXNlPHtcbiAgYWdlbnRraXQ6IEFnZW50S2l0O1xuICB3YWxsZXRQcm92aWRlcjogV2FsbGV0UHJvdmlkZXI7XG59PiB7XG4gIHRyeSB7XG4gICAgbGV0IHdhbGxldERhdGE6IFdhbGxldERhdGEgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgcHJpdmF0ZUtleTogSGV4IHwgbnVsbCA9IG51bGw7XG4gICAgXG4gICAgY29uc3Qgd2FsbGV0RGF0YUZpbGUgPSBnZXRXYWxsZXREYXRhRmlsZVBhdGgodXNlcklkKTtcblxuICAgIC8vIFJlYWQgZXhpc3Rpbmcgd2FsbGV0IGRhdGEgaWYgYXZhaWxhYmxlXG4gICAgaWYgKGZzLmV4aXN0c1N5bmMod2FsbGV0RGF0YUZpbGUpKSB7XG4gICAgICB0cnkge1xuICAgICAgICB3YWxsZXREYXRhID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMod2FsbGV0RGF0YUZpbGUsIFwidXRmOFwiKSkgYXMgV2FsbGV0RGF0YTtcbiAgICAgICAgcHJpdmF0ZUtleSA9IHdhbGxldERhdGEucHJpdmF0ZUtleTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHJlYWRpbmcgd2FsbGV0IGRhdGEgZm9yIHVzZXIgJHt1c2VySWR9OmAsIGVycm9yKTtcbiAgICAgICAgLy8gQ29udGludWUgd2l0aG91dCB3YWxsZXQgZGF0YVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcHJpdmF0ZUtleSkge1xuICAgICAgaWYgKHdhbGxldERhdGE/LnNtYXJ0V2FsbGV0QWRkcmVzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFNtYXJ0IHdhbGxldCBmb3VuZCBmb3IgdXNlciAke3VzZXJJZH0gYnV0IG5vIHByaXZhdGUga2V5IHByb3ZpZGVkLiBFaXRoZXIgcHJvdmlkZSB0aGUgcHJpdmF0ZSBrZXksIG9yIGRlbGV0ZSAke3dhbGxldERhdGFGaWxlfSBhbmQgdHJ5IGFnYWluLmAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBUcnkgdG8gcmVhZCBmcm9tIHRoZSBsZWdhY3kgd2FsbGV0IGRhdGEgZmlsZSBmaXJzdFxuICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoTEVHQUNZX1dBTExFVF9EQVRBX0ZJTEUpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbGVnYWN5V2FsbGV0RGF0YSA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKExFR0FDWV9XQUxMRVRfREFUQV9GSUxFLCBcInV0ZjhcIikpO1xuICAgICAgICAgIC8vIEFkZCAweCBwcmVmaXggaWYgbm90IHByZXNlbnRcbiAgICAgICAgICBwcml2YXRlS2V5ID0gbGVnYWN5V2FsbGV0RGF0YS5wcml2YXRlS2V5LnN0YXJ0c1dpdGgoXCIweFwiKSBcbiAgICAgICAgICAgID8gbGVnYWN5V2FsbGV0RGF0YS5wcml2YXRlS2V5IGFzIEhleFxuICAgICAgICAgICAgOiBgMHgke2xlZ2FjeVdhbGxldERhdGEucHJpdmF0ZUtleX1gIGFzIEhleDtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzaW5nIGV4aXN0aW5nIHdhbGxldCBmcm9tIHdhbGxldF9kYXRhLnR4dFwiKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVhZGluZyBsZWdhY3kgd2FsbGV0IGRhdGE6XCIsIGVycm9yKTtcbiAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gZW52aXJvbm1lbnQgdmFyaWFibGUgb3IgZ2VuZXJhdGUgYSBuZXcga2V5XG4gICAgICAgICAgcHJpdmF0ZUtleSA9IChwcm9jZXNzLmVudi5QUklWQVRFX0tFWSB8fCBnZW5lcmF0ZVByaXZhdGVLZXkoKSkgYXMgSGV4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGYWxsIGJhY2sgdG8gZW52aXJvbm1lbnQgdmFyaWFibGUgb3IgZ2VuZXJhdGUgYSBuZXcga2V5XG4gICAgICAgIHByaXZhdGVLZXkgPSAocHJvY2Vzcy5lbnYuUFJJVkFURV9LRVkgfHwgZ2VuZXJhdGVQcml2YXRlS2V5KCkpIGFzIEhleDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzaWduZXIgPSBwcml2YXRlS2V5VG9BY2NvdW50KHByaXZhdGVLZXkpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBXYWxsZXRQcm92aWRlcjogaHR0cHM6Ly9kb2NzLmNkcC5jb2luYmFzZS5jb20vYWdlbnRraXQvZG9jcy93YWxsZXQtbWFuYWdlbWVudFxuICAgIGNvbnN0IHdhbGxldFByb3ZpZGVyID0gYXdhaXQgU21hcnRXYWxsZXRQcm92aWRlci5jb25maWd1cmVXaXRoV2FsbGV0KHtcbiAgICAgIG5ldHdvcmtJZDogcHJvY2Vzcy5lbnYuTkVUV09SS19JRCB8fCBcImJhc2Utc2Vwb2xpYVwiLFxuICAgICAgc2lnbmVyLFxuICAgICAgc21hcnRXYWxsZXRBZGRyZXNzOiB3YWxsZXREYXRhPy5zbWFydFdhbGxldEFkZHJlc3MsXG4gICAgICBwYXltYXN0ZXJVcmw6IHVuZGVmaW5lZCwgLy8gU3BvbnNvciB0cmFuc2FjdGlvbnM6IGh0dHBzOi8vZG9jcy5jZHAuY29pbmJhc2UuY29tL3BheW1hc3Rlci9kb2NzL3dlbGNvbWVcbiAgICB9KTtcblxuICAgIC8vIEluaXRpYWxpemUgQWdlbnRLaXQ6IGh0dHBzOi8vZG9jcy5jZHAuY29pbmJhc2UuY29tL2FnZW50a2l0L2RvY3MvYWdlbnQtYWN0aW9uc1xuICAgIGNvbnN0IGVyYzcyMSA9IGVyYzcyMUFjdGlvblByb3ZpZGVyKCk7XG4gICAgY29uc3QgcHl0aCA9IHB5dGhBY3Rpb25Qcm92aWRlcigpO1xuICAgIGNvbnN0IHdhbGxldCA9IHdhbGxldEFjdGlvblByb3ZpZGVyKCk7IC8vIGRlZmF1bHQgYWN0aW9uIHBhY2thZ2U6IGdldCBiYWxhbmNlLCBuYXRpdmUgdHJhbnNmZXIsIGFuZCBnZXQgd2FsbGV0IGRldGFpbHNcbiAgICBcbiAgICAvLyBDaGVjayBpZiBDRFAgQVBJIGtleXMgYXJlIGF2YWlsYWJsZVxuICAgIGNvbnN0IGNkcEFwaUtleU5hbWUgPSBwcm9jZXNzLmVudi5DRFBfQVBJX0tFWV9OQU1FIHx8IFwiXCI7XG4gICAgY29uc3QgY2RwQXBpS2V5UHJpdmF0ZUtleSA9IHByb2Nlc3MuZW52LkNEUF9BUElfS0VZX1BSSVZBVEVfS0VZPy5yZXBsYWNlKC9cXFxcbi9nLCBcIlxcblwiKSB8fCBcIlwiO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgQ0RQIHByb3ZpZGVycyB3aXRoIGZhbGxiYWNrcyBmb3IgbWlzc2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgICBjb25zdCBjZHAgPSBjZHBBcGlBY3Rpb25Qcm92aWRlcih7XG4gICAgICBhcGlLZXlOYW1lOiBjZHBBcGlLZXlOYW1lLFxuICAgICAgYXBpS2V5UHJpdmF0ZUtleTogY2RwQXBpS2V5UHJpdmF0ZUtleSxcbiAgICB9KTtcbiAgICBjb25zdCBjZHBXYWxsZXQgPSBjZHBXYWxsZXRBY3Rpb25Qcm92aWRlcih7XG4gICAgICBhcGlLZXlOYW1lOiBjZHBBcGlLZXlOYW1lLFxuICAgICAgYXBpS2V5UHJpdmF0ZUtleTogY2RwQXBpS2V5UHJpdmF0ZUtleSxcbiAgICB9KTtcbiAgICBjb25zdCB3ZXRoID0gd2V0aEFjdGlvblByb3ZpZGVyKCk7XG4gICAgY29uc3QgZXJjMjAgPSBlcmMyMEFjdGlvblByb3ZpZGVyKCk7XG4gICAgXG4gICAgY29uc3QgYWdlbnRraXQgPSBhd2FpdCBBZ2VudEtpdC5mcm9tKHtcbiAgICAgIHdhbGxldFByb3ZpZGVyLFxuICAgICAgYWN0aW9uUHJvdmlkZXJzOiBbZXJjNzIxLCBweXRoLCB3YWxsZXQsIGNkcCwgY2RwV2FsbGV0LCB3ZXRoLCBlcmMyMF0sXG4gICAgfSk7XG5cbiAgICAvLyBTYXZlIHdhbGxldCBkYXRhXG4gICAgY29uc3Qgc21hcnRXYWxsZXRBZGRyZXNzID0gYXdhaXQgd2FsbGV0UHJvdmlkZXIuZ2V0QWRkcmVzcygpO1xuICAgIGZzLndyaXRlRmlsZVN5bmMoXG4gICAgICB3YWxsZXREYXRhRmlsZSxcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcHJpdmF0ZUtleSxcbiAgICAgICAgc21hcnRXYWxsZXRBZGRyZXNzLFxuICAgICAgICB1c2VySWQsIC8vIFN0b3JlIHRoZSB1c2VySWQgd2l0aCB0aGUgd2FsbGV0IGRhdGFcbiAgICAgIH0gYXMgV2FsbGV0RGF0YSAmIHsgdXNlcklkOiBzdHJpbmcgfSksXG4gICAgKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgV2FsbGV0IGRhdGEgc2F2ZWQgZm9yIHVzZXIgJHt1c2VySWR9IGF0ICR7d2FsbGV0RGF0YUZpbGV9YCk7XG4gICAgY29uc29sZS5sb2coYFNtYXJ0IHdhbGxldCBhZGRyZXNzOiAke3NtYXJ0V2FsbGV0QWRkcmVzc31gKTtcblxuICAgIHJldHVybiB7IGFnZW50a2l0LCB3YWxsZXRQcm92aWRlciB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgYWdlbnQ6XCIsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBhZ2VudFwiKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkFnZW50S2l0IiwiY2RwQXBpQWN0aW9uUHJvdmlkZXIiLCJjZHBXYWxsZXRBY3Rpb25Qcm92aWRlciIsImVyYzIwQWN0aW9uUHJvdmlkZXIiLCJlcmM3MjFBY3Rpb25Qcm92aWRlciIsInB5dGhBY3Rpb25Qcm92aWRlciIsIlNtYXJ0V2FsbGV0UHJvdmlkZXIiLCJ3YWxsZXRBY3Rpb25Qcm92aWRlciIsIndldGhBY3Rpb25Qcm92aWRlciIsImZzIiwiZ2VuZXJhdGVQcml2YXRlS2V5IiwicHJpdmF0ZUtleVRvQWNjb3VudCIsIkxFR0FDWV9XQUxMRVRfREFUQV9GSUxFIiwiV0FMTEVUX0RBVEFfRElSIiwiZ2V0V2FsbGV0RGF0YUZpbGVQYXRoIiwidXNlcklkIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsInByZXBhcmVBZ2VudGtpdEFuZFdhbGxldFByb3ZpZGVyIiwid2FsbGV0RGF0YSIsInByaXZhdGVLZXkiLCJ3YWxsZXREYXRhRmlsZSIsIkpTT04iLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsImVycm9yIiwiY29uc29sZSIsInNtYXJ0V2FsbGV0QWRkcmVzcyIsIkVycm9yIiwibGVnYWN5V2FsbGV0RGF0YSIsInN0YXJ0c1dpdGgiLCJsb2ciLCJwcm9jZXNzIiwiZW52IiwiUFJJVkFURV9LRVkiLCJzaWduZXIiLCJ3YWxsZXRQcm92aWRlciIsImNvbmZpZ3VyZVdpdGhXYWxsZXQiLCJuZXR3b3JrSWQiLCJORVRXT1JLX0lEIiwicGF5bWFzdGVyVXJsIiwidW5kZWZpbmVkIiwiZXJjNzIxIiwicHl0aCIsIndhbGxldCIsImNkcEFwaUtleU5hbWUiLCJDRFBfQVBJX0tFWV9OQU1FIiwiY2RwQXBpS2V5UHJpdmF0ZUtleSIsIkNEUF9BUElfS0VZX1BSSVZBVEVfS0VZIiwicmVwbGFjZSIsImNkcCIsImFwaUtleU5hbWUiLCJhcGlLZXlQcml2YXRlS2V5IiwiY2RwV2FsbGV0Iiwid2V0aCIsImVyYzIwIiwiYWdlbnRraXQiLCJmcm9tIiwiYWN0aW9uUHJvdmlkZXJzIiwiZ2V0QWRkcmVzcyIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/agent/prepare-agentkit.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/agent/route.ts":
/*!********************************!*\
  !*** ./app/api/agent/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _create_agent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create-agent */ \"(rsc)/./app/api/agent/create-agent.ts\");\n\n\n// CORS headers for cross-origin requests\nconst corsHeaders = {\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Methods\": \"GET, POST, OPTIONS\",\n    \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\"\n};\n/**\n * Handle OPTIONS requests for CORS preflight\n */ async function OPTIONS() {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({}, {\n        headers: corsHeaders\n    });\n}\n/**\n * Handles GET requests to the /api/agent endpoint.\n * This provides a simple HTML interface for testing the agent.\n * \n * @function GET\n * @returns {NextResponse} HTML response with a simple chat interface\n */ async function GET() {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(`<!DOCTYPE html>\n    <html>\n      <head>\n        <title>Evrlink Agent API</title>\n        <style>\n          body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }\n          h1 { color: #333; }\n          .message { margin-bottom: 10px; padding: 10px; border-radius: 5px; }\n          .user { background-color: #e6f7ff; text-align: right; }\n          .agent { background-color: #f0f0f0; }\n          #messageInput { width: 80%; padding: 8px; margin-right: 10px; }\n          button { padding: 8px 16px; background-color: #1890ff; color: white; border: none; border-radius: 4px; cursor: pointer; }\n          #messages { margin: 20px 0; }\n        </style>\n      </head>\n      <body>\n        <h1>Evrlink Agent API Test Interface</h1>\n        <p>This is a simple interface to test the Evrlink agent API.</p>\n        \n        <div id=\"messages\"></div>\n        \n        <div>\n          <input type=\"text\" id=\"messageInput\" placeholder=\"Type your message here...\" />\n          <button onclick=\"sendMessage()\">Send</button>\n        </div>\n        \n        <script>\n          const messagesContainer = document.getElementById('messages');\n          const messageInput = document.getElementById('messageInput');\n          const userId = 'test_user_' + Math.random().toString(36).substring(2, 9);\n          \n          async function sendMessage() {\n            const message = messageInput.value.trim();\n            if (!message) return;\n            \n            // Add user message to UI\n            addMessage(message, 'user');\n            messageInput.value = '';\n            \n            try {\n              // Send message to API\n              const response = await fetch('/api/agent', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ userMessage: message, userId })\n              });\n              \n              const data = await response.json();\n              \n              if (data.error) {\n                addMessage('Error: ' + data.error, 'agent');\n              } else if (data.response) {\n                addMessage(data.response, 'agent');\n              } else {\n                addMessage('No response from agent', 'agent');\n              }\n            } catch (error) {\n              addMessage('Error: ' + error.message, 'agent');\n            }\n          }\n          \n          function addMessage(text, sender) {\n            const messageDiv = document.createElement('div');\n            messageDiv.className = 'message ' + sender;\n            messageDiv.textContent = text;\n            messagesContainer.appendChild(messageDiv);\n            window.scrollTo(0, document.body.scrollHeight);\n          }\n          \n          // Allow sending message with Enter key\n          messageInput.addEventListener('keypress', function(event) {\n            if (event.key === 'Enter') {\n              sendMessage();\n            }\n          });\n          \n          // Add initial message\n          addMessage('Hello! I am the Evrlink agent. How can I help you today?', 'agent');\n        </script>\n      </body>\n    </html>`, {\n        headers: {\n            \"Content-Type\": \"text/html\",\n            ...corsHeaders\n        }\n    });\n}\n/**\n * Handles incoming POST requests to interact with the AgentKit-powered AI agent.\n * This function processes user messages and streams responses from the agent.\n *\n * @function POST\n * @param {Request & { json: () => Promise<AgentRequest> }} req - The incoming request object containing the user message.\n * @returns {Promise<NextResponse<AgentResponse>>} JSON response containing the AI-generated reply or an error message.\n *\n * @description Sends a single message to the agent and returns the agents' final response.\n *\n * @example\n * const response = await fetch(\"/api/agent\", {\n *     method: \"POST\",\n *     headers: { \"Content-Type\": \"application/json\" },\n *     body: JSON.stringify({ userMessage: input }),\n * });\n */ async function POST(req) {\n    try {\n        // 1️. Extract user message and userId from the request body\n        const requestBody = await req.json();\n        // Support both formats (userMessage from enhanced client, message from original client)\n        const userMessage = requestBody.userMessage || requestBody.message;\n        // Extract userId from request or use a default\n        const userId = requestBody.userId || \"default\";\n        console.log(\"Received request:\", JSON.stringify(requestBody));\n        console.log(\"Processing message:\", userMessage);\n        console.log(\"User ID:\", userId);\n        if (!userMessage) {\n            console.error(\"No message found in request\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No message found in request\"\n            }, {\n                status: 400,\n                headers: corsHeaders\n            });\n        }\n        try {\n            // 2. Get the agent for this specific user\n            console.log(`Creating agent for user ${userId}...`);\n            const agent = await (0,_create_agent__WEBPACK_IMPORTED_MODULE_1__.createAgent)(userId);\n            console.log(`Agent created successfully for user ${userId}`);\n            // 3.Start streaming the agent's response\n            console.log(`Streaming response for message: \"${userMessage}\"`);\n            const stream = await agent.stream({\n                messages: [\n                    {\n                        content: userMessage,\n                        role: \"user\"\n                    }\n                ]\n            }, {\n                configurable: {\n                    thread_id: \"AgentKit Discussion\"\n                }\n            });\n            // 4️. Process the streamed response chunks into a single message\n            let agentResponse = \"\";\n            console.log(\"Processing response stream...\");\n            for await (const chunk of stream){\n                if (\"agent\" in chunk) {\n                    agentResponse += chunk.agent.messages[0].content;\n                }\n            }\n            console.log(\"Response generated successfully\");\n            // 5️. Return the final response\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                response: agentResponse\n            }, {\n                headers: corsHeaders\n            });\n        } catch (agentError) {\n            console.error(`Error with agent for user ${userId}:`, agentError);\n            // Provide more detailed error message\n            const errorMessage = agentError.message || \"Unknown agent error\";\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `Agent error: ${errorMessage}`,\n                details:  true ? agentError.stack : 0\n            }, {\n                headers: corsHeaders\n            });\n        }\n    } catch (error) {\n        console.error(\"Error processing request:\", error);\n        const errorMessage = error.message || \"Unknown error\";\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: `Failed to process message: ${errorMessage}`,\n            details:  true ? error.stack : 0\n        }, {\n            headers: corsHeaders\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FnZW50L3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQzJDO0FBQ0U7QUFFN0MseUNBQXlDO0FBQ3pDLE1BQU1FLGNBQWM7SUFDbEIsK0JBQStCO0lBQy9CLGdDQUFnQztJQUNoQyxnQ0FBZ0M7QUFDbEM7QUFFQTs7Q0FFQyxHQUNNLGVBQWVDO0lBQ3BCLE9BQU9ILHFEQUFZQSxDQUFDSSxJQUFJLENBQUMsQ0FBQyxHQUFHO1FBQUVDLFNBQVNIO0lBQVk7QUFDdEQ7QUFFQTs7Ozs7O0NBTUMsR0FDTSxlQUFlSTtJQUNwQixPQUFPLElBQUlOLHFEQUFZQSxDQUNyQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQWdGTSxDQUFDLEVBQ1I7UUFDRUssU0FBUztZQUNQLGdCQUFnQjtZQUNoQixHQUFHSCxXQUFXO1FBQ2hCO0lBQ0Y7QUFFSjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0NBZ0JDLEdBQ00sZUFBZUssS0FDcEJDLEdBQW9EO0lBRXBELElBQUk7UUFDRiw0REFBNEQ7UUFDNUQsTUFBTUMsY0FBYyxNQUFNRCxJQUFJSixJQUFJO1FBQ2xDLHdGQUF3RjtRQUN4RixNQUFNTSxjQUFjRCxZQUFZQyxXQUFXLElBQUlELFlBQVlFLE9BQU87UUFDbEUsK0NBQStDO1FBQy9DLE1BQU1DLFNBQVNILFlBQVlHLE1BQU0sSUFBSTtRQUVyQ0MsUUFBUUMsR0FBRyxDQUFDLHFCQUFxQkMsS0FBS0MsU0FBUyxDQUFDUDtRQUNoREksUUFBUUMsR0FBRyxDQUFDLHVCQUF1Qko7UUFDbkNHLFFBQVFDLEdBQUcsQ0FBQyxZQUFZRjtRQUV4QixJQUFJLENBQUNGLGFBQWE7WUFDaEJHLFFBQVFJLEtBQUssQ0FBQztZQUNkLE9BQU9qQixxREFBWUEsQ0FBQ0ksSUFBSSxDQUFDO2dCQUFFYSxPQUFPO1lBQThCLEdBQUc7Z0JBQUVDLFFBQVE7Z0JBQUtiLFNBQVNIO1lBQVk7UUFDekc7UUFFQSxJQUFJO1lBQ0YsMENBQTBDO1lBQzFDVyxRQUFRQyxHQUFHLENBQUMsQ0FBQyx3QkFBd0IsRUFBRUYsT0FBTyxHQUFHLENBQUM7WUFDbEQsTUFBTU8sUUFBUSxNQUFNbEIsMERBQVdBLENBQUNXO1lBQ2hDQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxvQ0FBb0MsRUFBRUYsT0FBTyxDQUFDO1lBRTNELHlDQUF5QztZQUN6Q0MsUUFBUUMsR0FBRyxDQUFDLENBQUMsaUNBQWlDLEVBQUVKLFlBQVksQ0FBQyxDQUFDO1lBQzlELE1BQU1VLFNBQVMsTUFBTUQsTUFBTUMsTUFBTSxDQUMvQjtnQkFBRUMsVUFBVTtvQkFBQzt3QkFBRUMsU0FBU1o7d0JBQWFhLE1BQU07b0JBQU87aUJBQUU7WUFBQyxHQUNyRDtnQkFBRUMsY0FBYztvQkFBRUMsV0FBVztnQkFBc0I7WUFBRTtZQUd2RCxpRUFBaUU7WUFDakUsSUFBSUMsZ0JBQWdCO1lBQ3BCYixRQUFRQyxHQUFHLENBQUM7WUFDWixXQUFXLE1BQU1hLFNBQVNQLE9BQVE7Z0JBQ2hDLElBQUksV0FBV08sT0FBTztvQkFDcEJELGlCQUFpQkMsTUFBTVIsS0FBSyxDQUFDRSxRQUFRLENBQUMsRUFBRSxDQUFDQyxPQUFPO2dCQUNsRDtZQUNGO1lBRUFULFFBQVFDLEdBQUcsQ0FBQztZQUNaLGdDQUFnQztZQUNoQyxPQUFPZCxxREFBWUEsQ0FBQ0ksSUFBSSxDQUFDO2dCQUFFd0IsVUFBVUY7WUFBYyxHQUFHO2dCQUFFckIsU0FBU0g7WUFBWTtRQUMvRSxFQUFFLE9BQU8yQixZQUFpQjtZQUN4QmhCLFFBQVFJLEtBQUssQ0FBQyxDQUFDLDBCQUEwQixFQUFFTCxPQUFPLENBQUMsQ0FBQyxFQUFFaUI7WUFDdEQsc0NBQXNDO1lBQ3RDLE1BQU1DLGVBQWVELFdBQVdsQixPQUFPLElBQUk7WUFDM0MsT0FBT1gscURBQVlBLENBQUNJLElBQUksQ0FBQztnQkFDdkJhLE9BQU8sQ0FBQyxhQUFhLEVBQUVhLGFBQWEsQ0FBQztnQkFDckNDLFNBQVNDLEtBQXlCLEdBQWdCSCxXQUFXSSxLQUFLLEdBQUdDLENBQVNBO1lBQ2hGLEdBQUc7Z0JBQUU3QixTQUFTSDtZQUFZO1FBQzVCO0lBQ0YsRUFBRSxPQUFPZSxPQUFZO1FBQ25CSixRQUFRSSxLQUFLLENBQUMsNkJBQTZCQTtRQUMzQyxNQUFNYSxlQUFlYixNQUFNTixPQUFPLElBQUk7UUFDdEMsT0FBT1gscURBQVlBLENBQUNJLElBQUksQ0FBQztZQUN2QmEsT0FBTyxDQUFDLDJCQUEyQixFQUFFYSxhQUFhLENBQUM7WUFDbkRDLFNBQVNDLEtBQXlCLEdBQWdCZixNQUFNZ0IsS0FBSyxHQUFHQyxDQUFTQTtRQUMzRSxHQUFHO1lBQUU3QixTQUFTSDtRQUFZO0lBQzVCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ldnJsaW5rLWNoYXRib3QvLi9hcHAvYXBpL2FnZW50L3JvdXRlLnRzPzY1NDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWdlbnRSZXF1ZXN0LCBBZ2VudFJlc3BvbnNlIH0gZnJvbSBcIkAvYXBwL3R5cGVzL2FwaVwiO1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBjcmVhdGVBZ2VudCB9IGZyb20gXCIuL2NyZWF0ZS1hZ2VudFwiO1xuXG4vLyBDT1JTIGhlYWRlcnMgZm9yIGNyb3NzLW9yaWdpbiByZXF1ZXN0c1xuY29uc3QgY29yc0hlYWRlcnMgPSB7XG4gICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiAnKicsXG4gICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJzogJ0dFVCwgUE9TVCwgT1BUSU9OUycsXG4gICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJzogJ0NvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvbicsXG59O1xuXG4vKipcbiAqIEhhbmRsZSBPUFRJT05TIHJlcXVlc3RzIGZvciBDT1JTIHByZWZsaWdodFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gT1BUSU9OUygpIHtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHt9LCB7IGhlYWRlcnM6IGNvcnNIZWFkZXJzIH0pO1xufVxuXG4vKipcbiAqIEhhbmRsZXMgR0VUIHJlcXVlc3RzIHRvIHRoZSAvYXBpL2FnZW50IGVuZHBvaW50LlxuICogVGhpcyBwcm92aWRlcyBhIHNpbXBsZSBIVE1MIGludGVyZmFjZSBmb3IgdGVzdGluZyB0aGUgYWdlbnQuXG4gKiBcbiAqIEBmdW5jdGlvbiBHRVRcbiAqIEByZXR1cm5zIHtOZXh0UmVzcG9uc2V9IEhUTUwgcmVzcG9uc2Ugd2l0aCBhIHNpbXBsZSBjaGF0IGludGVyZmFjZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShcbiAgICBgPCFET0NUWVBFIGh0bWw+XG4gICAgPGh0bWw+XG4gICAgICA8aGVhZD5cbiAgICAgICAgPHRpdGxlPkV2cmxpbmsgQWdlbnQgQVBJPC90aXRsZT5cbiAgICAgICAgPHN0eWxlPlxuICAgICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogODAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyB9XG4gICAgICAgICAgaDEgeyBjb2xvcjogIzMzMzsgfVxuICAgICAgICAgIC5tZXNzYWdlIHsgbWFyZ2luLWJvdHRvbTogMTBweDsgcGFkZGluZzogMTBweDsgYm9yZGVyLXJhZGl1czogNXB4OyB9XG4gICAgICAgICAgLnVzZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZmN2ZmOyB0ZXh0LWFsaWduOiByaWdodDsgfVxuICAgICAgICAgIC5hZ2VudCB7IGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7IH1cbiAgICAgICAgICAjbWVzc2FnZUlucHV0IHsgd2lkdGg6IDgwJTsgcGFkZGluZzogOHB4OyBtYXJnaW4tcmlnaHQ6IDEwcHg7IH1cbiAgICAgICAgICBidXR0b24geyBwYWRkaW5nOiA4cHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjogIzE4OTBmZjsgY29sb3I6IHdoaXRlOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDRweDsgY3Vyc29yOiBwb2ludGVyOyB9XG4gICAgICAgICAgI21lc3NhZ2VzIHsgbWFyZ2luOiAyMHB4IDA7IH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIDwvaGVhZD5cbiAgICAgIDxib2R5PlxuICAgICAgICA8aDE+RXZybGluayBBZ2VudCBBUEkgVGVzdCBJbnRlcmZhY2U8L2gxPlxuICAgICAgICA8cD5UaGlzIGlzIGEgc2ltcGxlIGludGVyZmFjZSB0byB0ZXN0IHRoZSBFdnJsaW5rIGFnZW50IEFQSS48L3A+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGlkPVwibWVzc2FnZXNcIj48L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJtZXNzYWdlSW5wdXRcIiBwbGFjZWhvbGRlcj1cIlR5cGUgeW91ciBtZXNzYWdlIGhlcmUuLi5cIiAvPlxuICAgICAgICAgIDxidXR0b24gb25jbGljaz1cInNlbmRNZXNzYWdlKClcIj5TZW5kPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICBjb25zdCBtZXNzYWdlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlcycpO1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlSW5wdXQnKTtcbiAgICAgICAgICBjb25zdCB1c2VySWQgPSAndGVzdF91c2VyXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOSk7XG4gICAgICAgICAgXG4gICAgICAgICAgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghbWVzc2FnZSkgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBZGQgdXNlciBtZXNzYWdlIHRvIFVJXG4gICAgICAgICAgICBhZGRNZXNzYWdlKG1lc3NhZ2UsICd1c2VyJyk7XG4gICAgICAgICAgICBtZXNzYWdlSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gU2VuZCBtZXNzYWdlIHRvIEFQSVxuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FnZW50Jywge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlck1lc3NhZ2U6IG1lc3NhZ2UsIHVzZXJJZCB9KVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2UoJ0Vycm9yOiAnICsgZGF0YS5lcnJvciwgJ2FnZW50Jyk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5yZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2UoZGF0YS5yZXNwb25zZSwgJ2FnZW50Jyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkTWVzc2FnZSgnTm8gcmVzcG9uc2UgZnJvbSBhZ2VudCcsICdhZ2VudCcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBhZGRNZXNzYWdlKCdFcnJvcjogJyArIGVycm9yLm1lc3NhZ2UsICdhZ2VudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBmdW5jdGlvbiBhZGRNZXNzYWdlKHRleHQsIHNlbmRlcikge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbWVzc2FnZURpdi5jbGFzc05hbWUgPSAnbWVzc2FnZSAnICsgc2VuZGVyO1xuICAgICAgICAgICAgbWVzc2FnZURpdi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgICAgICBtZXNzYWdlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChtZXNzYWdlRGl2KTtcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFsbG93IHNlbmRpbmcgbWVzc2FnZSB3aXRoIEVudGVyIGtleVxuICAgICAgICAgIG1lc3NhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgIHNlbmRNZXNzYWdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGluaXRpYWwgbWVzc2FnZVxuICAgICAgICAgIGFkZE1lc3NhZ2UoJ0hlbGxvISBJIGFtIHRoZSBFdnJsaW5rIGFnZW50LiBIb3cgY2FuIEkgaGVscCB5b3UgdG9kYXk/JywgJ2FnZW50Jyk7XG4gICAgICAgIDwvc2NyaXB0PlxuICAgICAgPC9ib2R5PlxuICAgIDwvaHRtbD5gLFxuICAgIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L2h0bWwnLFxuICAgICAgICAuLi5jb3JzSGVhZGVyc1xuICAgICAgfSxcbiAgICB9XG4gICk7XG59XG4vKipcbiAqIEhhbmRsZXMgaW5jb21pbmcgUE9TVCByZXF1ZXN0cyB0byBpbnRlcmFjdCB3aXRoIHRoZSBBZ2VudEtpdC1wb3dlcmVkIEFJIGFnZW50LlxuICogVGhpcyBmdW5jdGlvbiBwcm9jZXNzZXMgdXNlciBtZXNzYWdlcyBhbmQgc3RyZWFtcyByZXNwb25zZXMgZnJvbSB0aGUgYWdlbnQuXG4gKlxuICogQGZ1bmN0aW9uIFBPU1RcbiAqIEBwYXJhbSB7UmVxdWVzdCAmIHsganNvbjogKCkgPT4gUHJvbWlzZTxBZ2VudFJlcXVlc3Q+IH19IHJlcSAtIFRoZSBpbmNvbWluZyByZXF1ZXN0IG9iamVjdCBjb250YWluaW5nIHRoZSB1c2VyIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxOZXh0UmVzcG9uc2U8QWdlbnRSZXNwb25zZT4+fSBKU09OIHJlc3BvbnNlIGNvbnRhaW5pbmcgdGhlIEFJLWdlbmVyYXRlZCByZXBseSBvciBhbiBlcnJvciBtZXNzYWdlLlxuICpcbiAqIEBkZXNjcmlwdGlvbiBTZW5kcyBhIHNpbmdsZSBtZXNzYWdlIHRvIHRoZSBhZ2VudCBhbmQgcmV0dXJucyB0aGUgYWdlbnRzJyBmaW5hbCByZXNwb25zZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvYWdlbnRcIiwge1xuICogICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gKiAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICogICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlck1lc3NhZ2U6IGlucHV0IH0pLFxuICogfSk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKFxuICByZXE6IFJlcXVlc3QgJiB7IGpzb246ICgpID0+IFByb21pc2U8QWdlbnRSZXF1ZXN0PiB9LFxuKTogUHJvbWlzZTxOZXh0UmVzcG9uc2U8QWdlbnRSZXNwb25zZT4+IHtcbiAgdHJ5IHtcbiAgICAvLyAx77iPLiBFeHRyYWN0IHVzZXIgbWVzc2FnZSBhbmQgdXNlcklkIGZyb20gdGhlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICAvLyBTdXBwb3J0IGJvdGggZm9ybWF0cyAodXNlck1lc3NhZ2UgZnJvbSBlbmhhbmNlZCBjbGllbnQsIG1lc3NhZ2UgZnJvbSBvcmlnaW5hbCBjbGllbnQpXG4gICAgY29uc3QgdXNlck1lc3NhZ2UgPSByZXF1ZXN0Qm9keS51c2VyTWVzc2FnZSB8fCByZXF1ZXN0Qm9keS5tZXNzYWdlO1xuICAgIC8vIEV4dHJhY3QgdXNlcklkIGZyb20gcmVxdWVzdCBvciB1c2UgYSBkZWZhdWx0XG4gICAgY29uc3QgdXNlcklkID0gcmVxdWVzdEJvZHkudXNlcklkIHx8IFwiZGVmYXVsdFwiO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgcmVxdWVzdDpcIiwgSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpKTtcbiAgICBjb25zb2xlLmxvZyhcIlByb2Nlc3NpbmcgbWVzc2FnZTpcIiwgdXNlck1lc3NhZ2UpO1xuICAgIGNvbnNvbGUubG9nKFwiVXNlciBJRDpcIiwgdXNlcklkKTtcbiAgICBcbiAgICBpZiAoIXVzZXJNZXNzYWdlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTm8gbWVzc2FnZSBmb3VuZCBpbiByZXF1ZXN0XCIpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiTm8gbWVzc2FnZSBmb3VuZCBpbiByZXF1ZXN0XCIgfSwgeyBzdGF0dXM6IDQwMCwgaGVhZGVyczogY29yc0hlYWRlcnMgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIDIuIEdldCB0aGUgYWdlbnQgZm9yIHRoaXMgc3BlY2lmaWMgdXNlclxuICAgICAgY29uc29sZS5sb2coYENyZWF0aW5nIGFnZW50IGZvciB1c2VyICR7dXNlcklkfS4uLmApO1xuICAgICAgY29uc3QgYWdlbnQgPSBhd2FpdCBjcmVhdGVBZ2VudCh1c2VySWQpO1xuICAgICAgY29uc29sZS5sb2coYEFnZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IGZvciB1c2VyICR7dXNlcklkfWApO1xuXG4gICAgICAvLyAzLlN0YXJ0IHN0cmVhbWluZyB0aGUgYWdlbnQncyByZXNwb25zZVxuICAgICAgY29uc29sZS5sb2coYFN0cmVhbWluZyByZXNwb25zZSBmb3IgbWVzc2FnZTogXCIke3VzZXJNZXNzYWdlfVwiYCk7XG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBhZ2VudC5zdHJlYW0oXG4gICAgICAgIHsgbWVzc2FnZXM6IFt7IGNvbnRlbnQ6IHVzZXJNZXNzYWdlLCByb2xlOiBcInVzZXJcIiB9XSB9LCAvLyBUaGUgbmV3IG1lc3NhZ2UgdG8gc2VuZCB0byB0aGUgYWdlbnRcbiAgICAgICAgeyBjb25maWd1cmFibGU6IHsgdGhyZWFkX2lkOiBcIkFnZW50S2l0IERpc2N1c3Npb25cIiB9IH0sIC8vIEN1c3RvbWl6YWJsZSB0aHJlYWQgSUQgZm9yIHRyYWNraW5nIGNvbnZlcnNhdGlvbnNcbiAgICAgICk7XG5cbiAgICAgIC8vIDTvuI8uIFByb2Nlc3MgdGhlIHN0cmVhbWVkIHJlc3BvbnNlIGNodW5rcyBpbnRvIGEgc2luZ2xlIG1lc3NhZ2VcbiAgICAgIGxldCBhZ2VudFJlc3BvbnNlID0gXCJcIjtcbiAgICAgIGNvbnNvbGUubG9nKFwiUHJvY2Vzc2luZyByZXNwb25zZSBzdHJlYW0uLi5cIik7XG4gICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICBpZiAoXCJhZ2VudFwiIGluIGNodW5rKSB7XG4gICAgICAgICAgYWdlbnRSZXNwb25zZSArPSBjaHVuay5hZ2VudC5tZXNzYWdlc1swXS5jb250ZW50O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiUmVzcG9uc2UgZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIC8vIDXvuI8uIFJldHVybiB0aGUgZmluYWwgcmVzcG9uc2VcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHJlc3BvbnNlOiBhZ2VudFJlc3BvbnNlIH0sIHsgaGVhZGVyczogY29yc0hlYWRlcnMgfSk7XG4gICAgfSBjYXRjaCAoYWdlbnRFcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciB3aXRoIGFnZW50IGZvciB1c2VyICR7dXNlcklkfTpgLCBhZ2VudEVycm9yKTtcbiAgICAgIC8vIFByb3ZpZGUgbW9yZSBkZXRhaWxlZCBlcnJvciBtZXNzYWdlXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBhZ2VudEVycm9yLm1lc3NhZ2UgfHwgXCJVbmtub3duIGFnZW50IGVycm9yXCI7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgICAgZXJyb3I6IGBBZ2VudCBlcnJvcjogJHtlcnJvck1lc3NhZ2V9YCxcbiAgICAgICAgZGV0YWlsczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBhZ2VudEVycm9yLnN0YWNrIDogdW5kZWZpbmVkXG4gICAgICB9LCB7IGhlYWRlcnM6IGNvcnNIZWFkZXJzIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwcm9jZXNzaW5nIHJlcXVlc3Q6XCIsIGVycm9yKTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8IFwiVW5rbm93biBlcnJvclwiO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgZXJyb3I6IGBGYWlsZWQgdG8gcHJvY2VzcyBtZXNzYWdlOiAke2Vycm9yTWVzc2FnZX1gLFxuICAgICAgZGV0YWlsczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBlcnJvci5zdGFjayA6IHVuZGVmaW5lZCBcbiAgICB9LCB7IGhlYWRlcnM6IGNvcnNIZWFkZXJzIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlQWdlbnQiLCJjb3JzSGVhZGVycyIsIk9QVElPTlMiLCJqc29uIiwiaGVhZGVycyIsIkdFVCIsIlBPU1QiLCJyZXEiLCJyZXF1ZXN0Qm9keSIsInVzZXJNZXNzYWdlIiwibWVzc2FnZSIsInVzZXJJZCIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3IiLCJzdGF0dXMiLCJhZ2VudCIsInN0cmVhbSIsIm1lc3NhZ2VzIiwiY29udGVudCIsInJvbGUiLCJjb25maWd1cmFibGUiLCJ0aHJlYWRfaWQiLCJhZ2VudFJlc3BvbnNlIiwiY2h1bmsiLCJyZXNwb25zZSIsImFnZW50RXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJkZXRhaWxzIiwicHJvY2VzcyIsInN0YWNrIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/agent/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/viem","vendor-chunks/@solana","vendor-chunks/next","vendor-chunks/@noble","vendor-chunks/ox","vendor-chunks/node-fetch-native","vendor-chunks/@opentelemetry","vendor-chunks/abitype","vendor-chunks/debug","vendor-chunks/formdata-node","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/isows","vendor-chunks/has-flag","vendor-chunks/@langchain","vendor-chunks/@coinbase","vendor-chunks/@privy-io","vendor-chunks/ethers","vendor-chunks/svix","vendor-chunks/openai","vendor-chunks/@opensea","vendor-chunks/jose","vendor-chunks/zod-to-json-schema","vendor-chunks/twitter-api-v2","vendor-chunks/libphonenumber-js","vendor-chunks/semver","vendor-chunks/langsmith","vendor-chunks/crypto-js","vendor-chunks/@scure","vendor-chunks/uuid","vendor-chunks/@cfworker","vendor-chunks/opensea-js","vendor-chunks/jayson","vendor-chunks/elliptic","vendor-chunks/ws","vendor-chunks/hash.js","vendor-chunks/form-data-encoder","vendor-chunks/zod","vendor-chunks/asynckit","vendor-chunks/aes-js","vendor-chunks/rpc-websockets","vendor-chunks/math-intrinsics","vendor-chunks/merkletreejs","vendor-chunks/es-errors","vendor-chunks/whatwg-url","vendor-chunks/secp256k1","vendor-chunks/call-bind-apply-helpers","vendor-chunks/agentkeepalive","vendor-chunks/js-tiktoken","vendor-chunks/retry","vendor-chunks/p-queue","vendor-chunks/get-proto","vendor-chunks/borsh","vendor-chunks/utf-8-validate","vendor-chunks/ts-case-convert","vendor-chunks/tr46","vendor-chunks/node-gyp-build","vendor-chunks/mime-db","vendor-chunks/md5","vendor-chunks/inherits","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/bufferutil","vendor-chunks/@alloralabs","vendor-chunks/web-streams-polyfill","vendor-chunks/tslib","vendor-chunks/superstruct","vendor-chunks/node-fetch","vendor-chunks/mustache","vendor-chunks/@jup-ag","vendor-chunks/reflect-metadata","vendor-chunks/axios","vendor-chunks/axios-retry","vendor-chunks/@adraffy","vendor-chunks/webidl-conversions","vendor-chunks/tweetnacl","vendor-chunks/treeify","vendor-chunks/text-encoding-utf-8","vendor-chunks/svix-fetch","vendor-chunks/safe-buffer","vendor-chunks/redaxios","vendor-chunks/proxy-from-env","vendor-chunks/p-timeout","vendor-chunks/p-retry","vendor-chunks/p-finally","vendor-chunks/minimalistic-crypto-utils","vendor-chunks/minimalistic-assert","vendor-chunks/mime-types","vendor-chunks/is-retry-allowed","vendor-chunks/humanize-ms","vendor-chunks/hmac-drbg","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/get-intrinsic","vendor-chunks/fast-sha256","vendor-chunks/eventemitter3","vendor-chunks/event-target-shim","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/ed2curve","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/decimal.js","vendor-chunks/decamelize","vendor-chunks/crypt","vendor-chunks/combined-stream","vendor-chunks/charenc","vendor-chunks/canonicalize","vendor-chunks/camelcase","vendor-chunks/buffer-reverse","vendor-chunks/brorand","vendor-chunks/bn.js","vendor-chunks/base64-js","vendor-chunks/ansi-styles","vendor-chunks/abort-controller","vendor-chunks/@stablelib"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fagent%2Froute&page=%2Fapi%2Fagent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fagent%2Froute.ts&appDir=C%3A%5CUsers%5CPAWAN%20KUMAR%5CDownloads%5C1%5CEvrlink-backend%5Cevrlink_chatbot%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CPAWAN%20KUMAR%5CDownloads%5C1%5CEvrlink-backend%5Cevrlink_chatbot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();